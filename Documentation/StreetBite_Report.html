<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>StreetBite Executive Report</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'base', themeVariables: { primaryColor: '#f97316', secondaryColor: '#ffedd5', tertiaryColor: '#fff', mainBkg: '#fff', nodeBorder: '#f97316' } });
    </script>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #ea580c;
            --secondary: #f97316;
            --dark: #1f2937;
            --light: #fff7ed;
            --text: #374151;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            color: var(--text);
            background: #f3f4f6;
            margin: 0;
            padding: 40px;
        }

        #container {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            padding: 60px 80px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            border-radius: 16px;
        }

        h1,
        h2,
        h3,
        h4 {
            font-family: 'Outfit', sans-serif;
            color: var(--dark);
        }

        h1 {
            font-size: 3em;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 0.2em;
            letter-spacing: -0.02em;
            border-bottom: 3px solid var(--primary);
            padding-bottom: 20px;
        }

        h2 {
            font-size: 1.8em;
            color: var(--secondary);
            margin-top: 50px;
            border-left: 5px solid var(--secondary);
            padding-left: 15px;
        }

        h3 {
            font-size: 1.4em;
            margin-top: 30px;
        }

        p {
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        img {
            max-width: 100%;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            margin: 30px 0;
            border: 1px solid #e5e7eb;
        }

        blockquote {
            background: var(--light);
            border-left: 5px solid var(--primary);
            margin: 30px 0;
            padding: 20px 30px;
            font-size: 1.2em;
            color: var(--dark);
            font-family: 'Outfit', serif;
            font-style: italic;
            border-radius: 8px;
        }

        code {
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            color: var(--primary);
        }

        .mermaid {
            margin: 40px 0;
            text-align: center;
            background: #fafafa;
            padding: 20px;
            border-radius: 12px;
            border: 1px dashed #e5e7eb;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            font-size: 0.95em;
        }

        th,
        td {
            padding: 15px;
            border-bottom: 1px solid #e5e7eb;
            text-align: left;
        }

        th {
            background: var(--light);
            color: var(--primary);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85em;
            letter-spacing: 0.05em;
        }

        tr:last-child td {
            border-bottom: none;
        }

        @media print {
            body {
                background: #fff;
                padding: 0;
            }

            #container {
                box-shadow: none;
                padding: 40px;
                max-width: 100%;
            }

            .no-print {
                display: none;
            }

            h2 {
                page-break-before: always;
                margin-top: 20px;
            }

            h1 {
                page-break-before: avoid;
            }
        }
    </style>
</head>

<body>
    <div id="container">
        <div id="content"></div>
    </div>

    <script>
        const md = `# StreetBite: Project Guidebook
## *The Team's Guide to Our Street Food Platform*

---

### 1. Project Overview
**What is StreetBite?**
StreetBite is a comprehensive digital platform designed to bridge the gap between street food vendors and food lovers. It brings the convenience of modern food delivery apps‚Äîlike discovery, menus, and reviews‚Äîto the unorganized street food sector.

**Key Features at a Glance:**
*   **Geospatial Search**: Find vendors within 2km radius.
*   **Real-time Status**: Live "Open/Closed" toggle for vendors.
*   **Menu Digitization**: Full photo-based menu management.
*   **Review System**: 5-Star rating system to build trust.
*   **Admin Dashboard**: Robust moderation and analytics.


### üìö Table of Contents
1.  **Project Overview** (The "Elevator Pitch")
2.  **The Problem & Solution** (Why we built this)
3.  **Visual Guide** (App Screenshots & User Flows)
4.  **Platform Walkthrough** (Step-by-Step Usage)
5.  **System Architecture** (Tech Stack & Diagram)
6.  **Strategic Decisions** (Why we chose this Tech)
7.  **Technical Deep Dive** (Code & Request Flow)
8.  **Service Inventory** (Backend Modules)
9.  **Interview Corner** (Core Logic Explanations)
10. **Common Questions** (System Design & Challenges)
11. **Engineering Challenges** (STAR Method Stories)
12. **Role-Based Prep** (What *You* specifically need to know)
13. **Future Roadmap**

---

### 2. The Problem Statement
In today's digital-first world, the street food economy remains largely invisible.
*   **For Foodies**: Finding authentic, hygienic, and open street stalls is a guessing game. There is no central directory, no live status, and no reliable way to check menus or prices before visiting.
*   **For Vendors**: hardworking street chefs struggle to reach new customers. They rely entirely on foot traffic and lack the digital tools to showcase their diverse menus or build a loyal brand.

### 3. Why We Created It
We built StreetBite to drive **Digital Inclusion**.
We believe that a small Vada Pav stall deserves the same digital visibility as a large restaurant chain. By empowering vendors with simple tools and giving customers a reliable discovery platform, we create a thriving, connected local food community.

---

### 4. Visual Guide: The Experience
Before diving into code, here is how the app actually feels to use.

#### **For the Customer: From Craving to Satisfaction**
The app automates the discovery process. Instead of wandering streets, the user follows a guided digital path.

![Customer Journey Infographic](report_assets/customer_journey.png)

#### **For the Vendor: A Business in Your Pocket**
We give vendors a "Dashboard" that is as simple to use as WhatsApp but powerful enough to run a business.

![Vendor Dashboard Infographic](report_assets/vendor_dashboard.png)

---

### 5. Comprehensive Platform Walkthrough
Here is exactly how the system works for every type of user, Step-by-Step.

#### **A. The Customer Experience (The Foodie)**
*Goal: Find food fast and reliable.*
1.  **Smart Onboarding**: Users sign in via Google or Phone. We verify them instantly.
2.  **Location Fix**: The app auto-detects GPS. If accuracy is low, users can drag a pin on the map to their exact street corner.
3.  **Discovery Engine**:
    *   **Search**: Type "Pani Puri" -> Backend searches menu items across all vendors.
    *   **Filters**: "Veg Only", "Rating 4.0+", or "Under ‚Çπ50".
4.  **Vendor Profile**: Users see a live "Open/Closed" tag. They browse the menu, see today's prices, and check photos uploaded by the vendor.
5.  **Community**: After eating, users leave a Star Rating and Review. This builds the "Trust Score" for the vendor.

#### **B. The Vendor Portal (The Chef)**
*Goal: Manage business on the go.*
1.  **Digital KYC**: Vendors sign up and upload ID proofs. They start in "Pending" state until Admin approves.
2.  **Live Command Center**:
    *   **One-Tap Status**: A big "Go Online" button. When active, they appear on the map. When sold out, they go "Offline".
    *   **Menu Manager**: Add a "Today's Special". Mark items as "Sold Out" instantly to satisfy customers.
3.  **Growth Analytics**: Simple charts showing: "50 people viewed your profile today".

#### **C. The Admin Panel (The Guardian)**
*Goal: Maintain platform quality and safety.*
1.  **Verification Queue**: Admins see a list of new vendors. They verify documents and click **[APPROVE]** to launch the vendor on the platform.
2.  **User Management**: View all users. If a user is reported for spam, Admin can **[BAN]** them with one click.
3.  **Content Moderation**: Review reported comments or fake reviews to keep the community toxic-free.
4.  **Platform Health**: A high-level dashboard showing Total Users, Active Vendors, and Hot Topics.

---

### 6. How It Works: The Architecture
StreetBite is built on a robust "Three-Tier Architecture."

\`\`\`mermaid
graph TD
    subgraph Client ["Client Layer"]
        UserApp["üì± User App (Next.js/Vercel)"]
        VendorApp["üè™ Vendor Portal (Next.js/Vercel)"]
        AdminPanel["üõ°Ô∏è Admin Panel (Next.js/Vercel)"]
    end

    subgraph LB ["Load Balancing"]
        RenderLB["üåê Render Load Balancer"]
    end

    subgraph Backend ["Backend Layer (Spring Boot / Render)"]
        API["‚öôÔ∏è Main API Server"]
        Auth["üîê Security (JWT)"]
        Services["üì¶ Business Services (Vendor, Order, Review)"]
    end

    subgraph Data ["Data Persistence"]
        DB[("üóÑÔ∏è MySQL Database (Supabase/Cloud)")]
    end

    subgraph External ["External Services"]
        GMaps["üó∫Ô∏è Google Maps API (Geocoding & Places)"]
        Resend["üìß Resend API (Transactional Emails)"]
        Firebase["üî• Firebase (Push Notifications)"]
    end

    UserApp --> RenderLB
    VendorApp --> RenderLB
    AdminPanel --> RenderLB
    RenderLB --> API
    
    API --> Auth
    API --> Services
    Services --> DB
    
    Services --> GMaps
    Services --> Resend
    Services --> Firebase
\`\`\`

#### **Tier 1: The Interface (Frontend - Next.js)**
*   **Role**: Handles user interaction and State Management.
*   **Key File**: \`explore/page.tsx\`
*   **Action**: Captures GPS, calls \`vendorApi.search()\`.

#### **Tier 2: The Brain (Backend - Spring Boot)**
*   **Role**: Business Logic & Security.
*   **Key File**: \`VendorController.java\`
*   **Action**: Validates token, calls Service, filters results.

#### **Tier 3: The Vault (Database - MySQL)**
*   **Role**: Persistent Storage (Relational).
*   **Key File**: \`VendorRepository.java\` (JPA Interface).
*   **Action**: Executes SQL: \`SELECT * FROM vendors WHERE is_active = true\`.

### 7. Entity-Relationship Diagram (ERD)
The following diagram illustrates the data models and their relationships within the system.

\`\`\`mermaid
erDiagram
    USER ||--o{ ORDER : places
    USER ||--o{ REVIEW : writes
    USER ||--o{ FAVORITE : has
    USER {
        int id PK
        string email
        string firebase_uid
        string display_name
        string role "USER, VENDOR, ADMIN"
        int xp
        int level
        int streak
    }

    VENDOR ||--o{ MENU_ITEM : offers
    VENDOR ||--o{ ORDER : receives
    VENDOR ||--o{ REVIEW : gets
    VENDOR ||--o{ PROMOTION : runs
    VENDOR ||--o{ VENDOR_IMAGE : has
    VENDOR {
        int id PK
        int owner_id FK
        string name
        string address
        string cuisine
        float latitude
        float longitude
        float rating
        boolean is_active
        string status "PENDING, APPROVED, REJECTED"
    }

    MENU_ITEM }|--|| VENDOR : belongs_to
    MENU_ITEM {
        int id PK
        int vendor_id FK
        string name
        float price
        boolean is_vegetarian
        boolean is_available
    }

    ORDER ||--|{ ORDER_ITEM : contains
    ORDER }|--|| USER : placed_by
    ORDER }|--|| VENDOR : fulfilled_by
    ORDER {
        int id PK
        int user_id FK
        int vendor_id FK
        float total_amount
        string status
        datetime created_at
    }

    ORDER_ITEM {
        int id PK
        int order_id FK
        int menu_item_id FK
        int quantity
        float price
    }

    REVIEW }|--|| USER : authored_by
    REVIEW }|--|| VENDOR : rates
    REVIEW {
        int id PK
        int user_id FK
        int vendor_id FK
        int rating
        string comment
        datetime created_at
    }

    PROMOTION }|--|| VENDOR : belongs_to
    PROMOTION {
        int id PK
        int vendor_id FK
        string title
        string description
        datetime start_date
        datetime end_date
    }
    
    VENDOR_IMAGE }|--|| VENDOR : shows
    VENDOR_IMAGE {
        int id PK
        int vendor_id FK
        string image_url
        boolean is_primary
    }
\`\`\`

#### **Tier 1: The Interface (Frontend - Next.js)**
*   **Role**: Handles user interaction and State Management.
*   **Key File**: \`explore/page.tsx\`
*   **Action**: Captures GPS, calls \`vendorApi.search()\`.

#### **Tier 2: The Brain (Backend - Spring Boot)**
*   **Role**: Business Logic & Security.
*   **Key File**: \`VendorController.java\`
*   **Action**: Validates token, calls Service, filters results.

#### **Tier 3: The Vault (Database - MySQL)**
*   **Role**: Persistent Storage (Relational).
*   **Key File**: \`VendorRepository.java\` (JPA Interface).
*   **Action**: Executes SQL: \`SELECT * FROM vendors WHERE is_active = true\`.

---


---

### 6. Comprehensive Platform Walkthrough
Here is exactly how the system works for every type of user, Step-by-Step.

#### **A. The Customer Experience (The Foodie)**
*Goal: Find food fast and reliable.*
1.  **Smart Onboarding**: Users sign in via Google or Phone. We verify them instantly.
2.  **Location Fix**: The app auto-detects GPS. If accuracy is low, users can drag a pin on the map to their exact street corner.
3.  **Discovery Engine**:
    *   **Search**: Type "Pani Puri" -> Backend searches menu items across all vendors.
    *   **Filters**: "Veg Only", "Rating 4.0+", or "Under ‚Çπ50".
4.  **Vendor Profile**: Users see a live "Open/Closed" tag. They browse the menu, see today's prices, and check photos uploaded by the vendor.
5.  **Community**: After eating, users leave a Star Rating and Review. This builds the "Trust Score" for the vendor.

#### **B. The Vendor Portal (The Chef)**
*Goal: Manage business on the go.*
1.  **Digital KYC**: Vendors sign up and upload ID proofs. They start in "Pending" state until Admin approves.
2.  **Live Command Center**:
    *   **One-Tap Status**: A big "Go Online" button. When active, they appear on the map. When sold out, they go "Offline".
    *   **Menu Manager**: Add a "Today's Special". Mark items as "Sold Out" instantly to satisfy customers.
3.  **Growth Analytics**: Simple charts showing: "50 people viewed your profile today".

#### **C. The Admin Panel (The Guardian)**
*Goal: Maintain platform quality and safety.*
1.  **Verification Queue**: Admins see a list of new vendors. They verify documents and click **[APPROVE]** to launch the vendor on the platform.
2.  **User Management**: View all users. If a user is reported for spam, Admin can **[BAN]** them with one click.
3.  **Content Moderation**: Review reported comments or fake reviews to keep the community toxic-free.
4.  **Platform Health**: A high-level dashboard showing Total Users, Active Vendors, and Hot Topics.

---

### 6. Strategic Decisions: Why this Stack?
To ace the "System Design" interview, you must defend your choices.

| Decision | Option A (Rejected) | Option B (Chosen) | Why? (The Winning Argument) |
| :--- | :--- | :--- | :--- |
| **Database** | **MongoDB (NoSQL)** | **MySQL (SQL)** | Street food menus are structured. An Order *must* link to a valid User. SQL data integrity was safer than NoSQL flexibility. |
| **Frontend** | **React (SPA)** | **Next.js (SSR)** | We need SEO. Google crawls visible HTML. React (CSR) is blank until JS loads; Next.js sends HTML instantly, making vendors searchable. |
| **Auth** | **Session (Stateful)** | **JWT (Stateless)** | Sessions require server RAM. If we scale to 5 servers, syncing RAM is hard. JWTs are stored on the *client*, so our backend scales indefinitely. |
| **Maps** | **Mapbox (Free)** | **Google Maps** | Reliability. Google's Places API has 10x better data for Indian street addresses than OpenStreetMaps/Mapbox. |

---

### 7. Technical Deep Dive: The Life of a Request üöÄ
**Scenario**: Attributes a User searches for "Street Food" near them.

#### **Step 1: Frontend Request (The Trigger)**
The user clicks search. \`explore/page.tsx\` triggers the API call.
\`\`\`typescript
// frontend/lib/api.ts
export const vendorApi = {
  search: (lat: number, lng: number, radius: number = 2000) =>
    // Sends GET to http://localhost:8081/api/vendors/search?lat=...&lng=...
    api.get(\`/vendors/search\`, { params: { lat, lng, radius } })
};
\`\`\`

#### **Step 2: Backend Controller (The Receptionist)**
Spring Boot receives the HTTP request at \`VendorController.java\`.
\`\`\`java
// backend/controller/VendorController.java
@GetMapping("/search")
public ResponseEntity<List<Vendor>> searchVendors(
        @RequestParam double lat, 
        @RequestParam double lng) {
    // Delegates the hard work to the Service layer
    return ResponseEntity.ok(vendorSearchService.searchNearby(lat, lng, 2000));
}
\`\`\`

#### **Step 3: Service Layer (The Logic Engine)**
This is where the magic happens. \`VendorSearchService.java\` performs the geospatial filtering.
*Note: We fetch all active vendors first, then filter in-memory for speed on small datasets.*
\`\`\`java
// backend/service/VendorSearchService.java
public List<Vendor> searchNearby(double lat, double lng, double radius) {
    // 1. Fetch from MySQL
    List<Vendor> all = vendorRepository.findByIsActiveTrue();
    
    // 2. Filter using Haversine Formula
    return all.stream()
        .filter(v -> calculateDistance(lat, lng, v.getLat(), v.getLng()) <= radius)
        .collect(Collectors.toList());
}
\`\`\`

#### **Step 4: Database (The Storage)**
The \`VendorRepository\` (JPA) translates the Java call into a SQL query.
\`\`\`sql
-- What actually runs on MySQL
SELECT * FROM vendors WHERE is_active = 1;
\`\`\`

---

### 8. Project Modules & Services (Code Inventory)
For the team: Here is the list of every backend service we built and what it does.

### 8. Project Modules & Services (Deep Dive)
A detailed breakdown of the backend logic for technical discussions.

| Service Name | Key Responsibility | Core Methods (Java) |
| :--- | :--- | :--- |
| **VendorService** | Complete Vendor Lifecycle management. | \`createVendor()\`, \`updateStatus()\`, \`getVendorProfile()\` |
| **VendorSearchService** | **Geospatial Logic**: Filters active vendors by Haversine distance. | \`searchNearby(lat, lng)\`, \`filterByRadius()\` |
| **UserService** | User Auth & Profile management. | \`registerUser()\`, \`findByEmail()\`, \`updatePreferences()\` |
| **OrderService** | Transactional logic for food ordering. | \`placeOrder()\`, \`updateOrderStatus()\`, \`getOrderHistory()\` |
| **ReviewService** | Reputation system logic. | \`addReview()\`, \`calculateAverageRating()\` |
| **AnalyticsService** | Data aggregation for dashboards. | \`getDailyViews()\`, \`getRevenueStats()\` |
| **NotificationService** | Async alerts via Email/Push. | \`sendOrderConfirmation()\`, \`sendWelcomeEmail()\` |
| **RealTimeSyncService** | **Synchronization**: Updates Firebase when MySQL changes. | \`syncVendorLocation()\`, \`syncOrderStatus()\` |
| **GamificationService** | Engagement logic (Points/Badges). | \`awardPoints()\`, \`checkLeaderboard()\` |
| **GeocodingService** | Address-to-Coordinate conversion. | \`getCoordinatesFromAddress()\` |
| **HotTopicService** | Community Forum management. | \`createPost()\`, \`likePost()\`, \`getTrendingTopics()\` |
| **PromotionService** | Marketing logic for discounts. | \`applyCoupon()\`, \`createCampaign()\` |


---
**Scenario**: Attributes a User searches for "Street Food" near them.

#### **Step 1: Frontend Request (The Trigger)**
The user clicks search. \`explore/page.tsx\` triggers the API call.
\`\`\`typescript
// frontend/lib/api.ts
export const vendorApi = {
  search: (lat: number, lng: number, radius: number = 2000) =>
    // Sends GET to http://localhost:8081/api/vendors/search?lat=...&lng=...
    api.get(\`/vendors/search\`, { params: { lat, lng, radius } })
};
\`\`\`

#### **Step 2: Backend Controller (The Receptionist)**
Spring Boot receives the HTTP request at \`VendorController.java\`.
\`\`\`java
// backend/controller/VendorController.java
@GetMapping("/search")
public ResponseEntity<List<Vendor>> searchVendors(
        @RequestParam double lat, 
        @RequestParam double lng) {
    // Delegates the hard work to the Service layer
    return ResponseEntity.ok(vendorSearchService.searchNearby(lat, lng, 2000));
}
\`\`\`

#### **Step 3: Service Layer (The Logic Engine)**
This is where the magic happens. \`VendorSearchService.java\` performs the geospatial filtering.
*Note: We fetch all active vendors first, then filter in-memory for speed on small datasets.*
\`\`\`java
// backend/service/VendorSearchService.java
public List<Vendor> searchNearby(double lat, double lng, double radius) {
    // 1. Fetch from MySQL
    List<Vendor> all = vendorRepository.findByIsActiveTrue();
    
    // 2. Filter using Haversine Formula
    return all.stream()
        .filter(v -> calculateDistance(lat, lng, v.getLat(), v.getLng()) <= radius)
        .collect(Collectors.toList());
}
\`\`\`

#### **Step 4: Database (The Storage)**
The \`VendorRepository\` (JPA) translates the Java call into a SQL query.
\`\`\`sql
-- What actually runs on MySQL
SELECT * FROM vendors WHERE is_active = 1;
\`\`\`

---

---





---

### 7. Comprehensive Platform Walkthrough
Here is exactly how the system works for every type of user, Step-by-Step.

#### **A. The Customer Experience (The Foodie)**
*Goal: Find food fast and reliable.*
1.  **Smart Onboarding**: Users sign in via Google or Phone. We verify them instantly.
2.  **Location Fix**: The app auto-detects GPS. If accuracy is low, users can drag a pin on the map to their exact street corner.
3.  **Discovery Engine**:
    *   **Search**: Type "Pani Puri" -> Backend searches menu items across all vendors.
    *   **Filters**: "Veg Only", "Rating 4.0+", or "Under ‚Çπ50".
4.  **Vendor Profile**: Users see a live "Open/Closed" tag. They browse the menu, see today's prices, and check photos uploaded by the vendor.
5.  **Community**: After eating, users leave a Star Rating and Review. This builds the "Trust Score" for the vendor.

#### **B. The Vendor Portal (The Chef)**
*Goal: Manage business on the go.*
1.  **Digital KYC**: Vendors sign up and upload ID proofs. They start in "Pending" state until Admin approves.
2.  **Live Command Center**:
    *   **One-Tap Status**: A big "Go Online" button. When active, they appear on the map. When sold out, they go "Offline".
    *   **Menu Manager**: Add a "Today's Special". Mark items as "Sold Out" instantly to satisfy customers.
3.  **Growth Analytics**: Simple charts showing: "50 people viewed your profile today".

#### **C. The Admin Panel (The Guardian)**
*Goal: Maintain platform quality and safety.*
1.  **Verification Queue**: Admins see a list of new vendors. They verify documents and click **[APPROVE]** to launch the vendor on the platform.
2.  **User Management**: View all users. If a user is reported for spam, Admin can **[BAN]** them with one click.
3.  **Content Moderation**: Review reported comments or fake reviews to keep the community toxic-free.
4.  **Platform Health**: A high-level dashboard showing Total Users, Active Vendors, and Hot Topics.

---

### 9. Interview Corner: Core Logic Explained
Use these 3 key technical concepts to ace your project interviews. They show you understand *how* the code actually works.

#### **A. The "Nearby" Algorithm (Haversine Formula)**
*Question: "How do you find vendors within 2km?"*
**Answer**: We don't just search the database list. We use the **Haversine Formula**, which calculates the curve of the Earth to find the exact distance between two GPS points.

\`\`\`java
// Logic: Calculate distance between User(lat1, lon1) and Vendor(lat2, lon2)
public double calculateDistance(double lat1, double lon1, double lat2, double lon2) {
    double R = 6371; // Earth's Radius in km
    double dLat = Math.toRadians(lat2 - lat1);
    double dLon = Math.toRadians(lon2 - lon1);
    
    // The "Haversine" math part
    double a = Math.sin(dLat/2) * Math.sin(dLat/2) +
               Math.cos(Math.toRadians(lat1)) * Math.cos(Math.toRadians(lat2)) *
               Math.sin(dLon/2) * Math.sin(dLon/2);
               
    double c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    return R * c; // Returns distance in Kilometers
}
\`\`\`

#### **B. The Security Guard (JWT Authentication Filter)**
*Question: "How do you secure your API?"*
**Answer**: We use a **Stateless JWT (JSON Web Token)** mechanism. Instead of storing sessions in the database (which slows it down), we issue a digital "Badge" (Token) that the user carries.

\`\`\`java
// Logic: Check every request for a valid "Badge"
protected void doFilterInternal(HttpServletRequest request, ...) {
    String token = request.getHeader("Authorization"); // 1. Get Token
    
    if (token != null && jwtUtils.validateToken(token)) { // 2. Check Signature
        String username = jwtUtils.getUserName(token);    // 3. Extract User
        
        // 4. Grant Access for this request only
        UsernamePasswordAuthenticationToken auth = ...;
        SecurityContextHolder.getContext().setAuthentication(auth);
    }
    chain.doFilter(request, response);
}
\`\`\`

#### **C. The React Hook (Managing State)**
*Question: "How does the frontend handle location?"*
**Answer**: We built a **Custom Hook** (\`useLocation\`) that abstracts the browser's Geolocation API. This keeps our main components clean.

\`\`\`typescript
// Logic: Reusable logic to get user's position
export function useLocation() {
    const [location, setLocation] = useState(null);

    useEffect(() => {
        if (!navigator.geolocation) return;
        
        // Ask browser for GPS coordinates
        navigator.geolocation.getCurrentPosition((position) => {
            setLocation({
                lat: position.coords.latitude,
                lng: position.coords.longitude
            });
        });
    }, []);

    return location; // Component gets this simple object
}
\`\`\`

---


---

### 10. Ace Your Interview: Common Project Questions
Beyond the code, interviewers want to know how you think. Here are the "Normal" questions they will ask.

#### **Q1: "Where did you face the biggest challenge?"**
*   **The Problem**: "Getting the vendor search to be fast."
*   **Your Answer**: "At first, calculating distance for every vendor in the database was slow. We solved this by first filtering only 'Active' vendors from MySQL, and then doing the math in Java. In the future, we would move this logic to a geospatial database query for better scale."

#### **Q2: "How does this scale to 1 million users?"**
*   **Bottleneck**: The database connection and image hosting.
*   **Your Solution**:
    1.  ** caching**: We would add Redis to cache the "Nearby Vendors" list so we don't hit the database every time.
    2.  **CDN**: We would use a Content Delivery Network (like Cloudflare) to load menu images faster.
    3.  **Horizontal Scaling**: We can run 5 copies of our Spring Boot backend on different servers because it is "Stateless" (doesn't store user sessions).

#### **Q3: "Why did you choose SQL over NoSQL?"**
*   **Answer**: "Street food vendors have structured data (Name, Menu, Price) that fits tables perfectly. We need strong relationships‚Äîlike a 'Menu Item' strictly belonging to a 'Vendor'. SQL enforces these rules (Foreign Keys) better than NoSQL."

#### **Q4: "How do you handle real-time updates?"**
*   **Answer**: "For the scope of this project, we poll the server or use simple HTTP requests. If we were to build the 'Order Tracking' feature next, we would implement **WebSockets** to push updates instantly without refreshing."

#### **Q5: "Design the Database Schema for this?"**
*   **Answer**: "We used a Relational Schema (MySQL). exist:
    *   **User Table**: (ID, Name, Email, Role)
    *   **Vendor Table**: (ID, Owner_ID, Name, Latitude, Longitude)
    *   **Menu Table**: (ID, Vendor_ID, Name, Price)
    *   *Key Relationship*: One Vendor has Many Menu Items (1:N)."

#### **Q6: "How did you design the API?"**
*   **Answer**: "We followed RESTful principles.
    *   \`GET /vendors\` -> List vendors.
    *   \`POST /orders\` -> Create a new order.
    *   \`PUT /vendors/{id}\` -> Update vendor details.
    *   We used standard HTTP status codes like 200 (OK), 404 (Not Found), and 401 (Unauthorized)."

---

### 11. Engineering Challenges (The "STAR" Stories)
Use these when asked: *"Tell me about a time you faced a difficult bug."*

#### **Story 1: The "Jumping GPS" Bug**
*   **Situation**: During testing, the user's location pin would jump around 50 meters even when standing still.
*   **Task**: Stabilize the location to show accurate "Nearby Vendors".
*   **Action**: We implemented a "Debounce" mechanism. We wait for the user's location to stay same for 500ms before triggering the API call, ignoring minor GPS noise.
*   **Result**: API calls dropped by 40% and the user experience became smooth.

#### **Story 2: The "Infinite Loading" Menu**
*   **Situation**: Vendors with 50+ menu items were causing the page to lag.
*   **Task**: Optimize the menu rendering performance.
*   **Action**: We used **Lazy Loading** for images and **Pagination** (fetching 10 items at a time) instead of loading the whole menu.
*   **Result**: Page load time went from 3.2s -> 0.8s.

---

### 12. Role-Based Interview Prep
Focus on these specific areas based on your contribution.

#### **If you worked on Frontend (Next.js)**
*   **Know this hook**: \`useLocation\` (How GPS works).
*   **Know this UI concept**: "Responsive Design" (Tailwind Grid).
*   **Common Question**: "How do you handle state management?" (Answer: React \`useState\` for local, \`Context\` for global theme).

#### **If you worked on Backend (Spring Boot)**
*   **Know this Service**: \`VendorSearchService\` (The filtering logic).
*   **Know this Security**: JWT Filter (How tokens are checked).
*   **Common Question**: "How do you prevent SQL Injection?" (Answer: JPA/Hibernate handles parameter binding automatically).

#### **If you are Full Stack / Lead**
*   **Know the Architecture**: Be ready to draw the 3-Tier Diagram.
*   **Know the Deployment**: "We use Docker containers for portability."

---

### 13. Impact & Project Roadmap
StreetBite is more than just an app; it's a platform for economic empowerment.

#### **Phase 1: MVP (Completed)**
*   [x] Basic Vendor & User Registration.
*   [x] Geolocation-based Search.
*   [x] Menu Management & Reviews.

#### **Phase 2: Engagement (Next Steps)**
*   [ ] **Order Tracking**: Live status updates via WebSockets.
*   [ ] **Payment Integration**: UPI payments (PhonePe/GPay) for cashless eating.
*   [ ] **Push Notifications**: "Your favorite Vada Pav is now ONLINE!" alerts.

#### **Phase 3: Scale (Future)**
*   [ ] **AI Recommendations**: "You like Spicy? Try this Misal Pav nearby."
*   [ ] **Delivery Partner App**: Connecting riders to deliver food to homes.

*Generated for StreetBite Team - Jan 2026*




`;
        document.getElementById('content').innerHTML = marked.parse(md);

        document.querySelectorAll('code.language-mermaid').forEach(el => {
            const div = document.createElement('div');
            div.className = 'mermaid';
            div.textContent = el.textContent;
            el.parentElement.replaceWith(div);
        });
    </script>

    <div class="no-print"
        style="position: fixed; bottom: 30px; right: 30px; background: #fff; padding: 15px 25px; border-radius: 50px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border: 1px solid #e5e7eb; display: flex; align-items: center; gap: 10px; cursor: pointer; transition: transform 0.2s;"
        onclick="window.print()">
        <span style="font-size: 20px">üñ®Ô∏è</span>
        <span style="font-weight: 600; color: #374151;">Print to PDF</span>
    </div>
</body>

</html>